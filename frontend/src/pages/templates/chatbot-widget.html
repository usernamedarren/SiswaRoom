<!-- AI Chatbot Widget -->
<div id="chatbot-widget" class="chatbot-widget">
  <div class="chatbot-header">
    <h3>
      <svg class="chatbot-icon" viewBox="0 0 24 24" width="20" height="20">
        <path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
      </svg>
      AI Tutor Chatbot
    </h3>
    <button id="toggle-chatbot" class="close-btn" title="Close">
      <svg viewBox="0 0 24 24" width="20" height="20">
        <path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
      </svg>
    </button>
  </div>

  <div id="chat-messages" class="chat-messages">
    <div class="chat-message chat-message-bot">
      <div class="message-content">
        <strong>Halo! ğŸ‘‹</strong><br>
        Saya adalah AI Tutor. Saya siap membantu Anda memahami materi pelajaran, menjawab pertanyaan, dan memberikan penjelasan konsep pembelajaran.<br><br>
        <em>Silakan ketik pertanyaan Anda atau pilih topik yang ingin dipelajari.</em>
      </div>
      <div class="message-timestamp">Sekarang</div>
    </div>
  </div>

  <div class="quick-actions-header" id="quick-actions-toggle">
    <span class="quick-actions-title">
      <svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor">
        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
      </svg>
      Contoh Pertanyaan
    </span>
    <button class="toggle-suggestions-btn" id="toggle-suggestions" aria-label="Toggle suggestions">
      <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
        <path d="M7 10l5 5 5-5z"/>
      </svg>
    </button>
  </div>

  <div class="chatbot-quick-actions" id="chatbot-quick-actions">
    <button class="quick-action" onclick="window.explainConcept('Integral dan Diferensial', 'intermediate')">
      ğŸ”¢ Integral dan Diferensial
    </button>
    <button class="quick-action" onclick="window.explainConcept('Hukum Newton', 'beginner')">
      âš›ï¸ Hukum Newton
    </button>
    <button class="quick-action" onclick="window.explainConcept('Simple Present vs Present Continuous', 'beginner')">
      ğŸ“ Tenses Bahasa Inggris
    </button>
    <button class="quick-action" onclick="window.explainConcept('Struktur Sel dan Fungsinya', 'intermediate')">
      ğŸ”¬ Biologi - Sel
    </button>
    <button class="quick-action" onclick="window.explainConcept('Persamaan Reaksi Redoks', 'advanced')">
      ğŸ§ª Kimia - Redoks
    </button>
    <button class="quick-action" onclick="window.explainConcept('Algoritma Sorting dan Searching', 'intermediate')">
      ğŸ’» Algoritma Pemrograman
    </button>
  </div>

  <form id="chatbot-form" class="chatbot-input">
    <input 
      id="chat-input" 
      type="text" 
      placeholder="Tanya sesuatu..." 
      autocomplete="off"
      aria-label="Pesan untuk chatbot"
    />
    <button id="send-btn" type="submit" class="send-btn" aria-label="Kirim pesan">
      <svg viewBox="0 0 24 24" width="20" height="20">
        <path fill="currentColor" d="M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 L4.13399899,1.16151495 C3.34915502,0.9 2.40734225,0.9 1.77946707,1.4429026 C0.994623095,2.0605983 0.837654326,3.0605983 1.15159189,3.98499899 L3.03521743,10.4259921 C3.03521743,10.5741566 3.19218622,10.5741566 3.50612381,10.5741566 L16.6915026,11.3596434 C16.6915026,11.3596434 17.1624089,11.3596434 17.1624089,11.9179141 L17.1624089,12.0660786 C17.1624089,12.6315722 16.6915026,12.4744748 16.6915026,12.4744748 Z"/>
      </svg>
    </button>
  </form>

  <div class="chatbot-footer">
    <button class="btn-icon" onclick="window.clearChatHistory()" title="Hapus riwayat">
      ğŸ—‘ï¸ Hapus
    </button>
  </div>
</div>

<!-- Chatbot Toggle Button (untuk layar kecil/desktop) -->
<button id="chatbot-toggle-btn" class="chatbot-toggle-btn" title="Buka Chatbot">
  <svg viewBox="0 0 24 24" width="24" height="24">
    <path fill="currentColor" d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/>
  </svg>
</button>
